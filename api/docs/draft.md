# 営農プランニングの最適化モデリングアイデア

注: (任意) としているものは、あれば考慮するという意味
注: 数値の単位が揃っていないが、これはインターフェースの単位であり、内部的には統一する

## 入力値

### エンティティ

- 作物
  - ID
  - カテゴリ (例：野菜、穀物、果樹)
  - 名称
  - 単価 (円/a)
- イベント
  - ID
  - 作物 ID
  - カテゴリ (例：播種、定植、散水、収穫)
  - 名称
- 土地
  - ID
  - タグリスト (例: 施設栽培/水田など)
  - 名称
  - 面積 (a)
- 作業者
  - ID
  - 名称
  - 役割 (例: 管理者/準管理者/一般作業者など)
- 共有リソース (例: 機械など)
  - ID
  - カテゴリ
  - 名称

### ハード制約

- 作物
  - (任意) 上限作付け面積
  - (任意) 下限作付け面積
- イベント
  - 実施条件
    - 開始条件 (x月y日~z日の間、特定のイベントから2週間経過以降、特定のイベントから3日以内、など)
    - 終了条件 (開始から2週間、かけた時間が50h/a以上、など)
    - 頻度 (毎日、2日に1回、週に2回、2週に1回、など)
  - 所要人数 (人)
  - 通算労働需要 (h/a)
  - 1日あたりの労働需要上限 (h/日)
  - (任意) 必須役割リスト (省略時は誰でもよい作業ということ)
  - (任意) 共有リソース ID リスト (省略時は利用なし)
- 土地
  - (任意) 作物 ID & 面積 (あれば、この土地にこれを何 a 植えると決めているということ)
  - (任意) 利用禁止期間
- 作業者
  - 上限作業時間 (h/日)
  - (任意) 作業不可期間
- 共有リソース
  - (任意) 利用禁止期間

### ソフト制約

- 収穫期の重なりを抑制
  - 収穫需要が集中する日を避けるように誘導
- 作業分散
  - 特定の日に過剰な負荷が集中しないよう調整

## 各日における状態変数

- 作物
  - 累積作業時間 (h)
  - (合計作付け面積は土地側の合計で取得可能)
- イベント
  - 本日実施 (する/しない)
  - ステータス (完了/未完了)
- 土地
  - 作物ごとの作付け面積 (作物: a)
- 作業者
  - 作業時間 (h)
- 共有リソース
  - 利用時間 (h)

## 最適化ターゲット

- 最大化
  - 合計収益 (円)
- 最小化
  - 合計作業時間 (h)
  - 土地の合計遊休時間 (日) (利用禁止期間を除く)
  - 作物の作付けが分散する度合い (同一作物が複数圃場に散らばること)
  - 収穫需要のピーク超過 (能力オーバー日数や超過時間)
- 多様性・嗜好調整 (ユーザー指定パラメータ)
  - 単一作物志向：
    - 作付け品目数を減らす
    - 同一作物をなるべく一圃場に集約
  - 多品目志向：
    - 作付け品目数を増やす
    - 面積配分を均等に近づける (エントロピー最大化や HHI 最小化)
