FROM public.ecr.aws/lambda/python:3.13

COPY . ${LAMBDA_TASK_ROOT}

# Install heavy solver stack for worker only
RUN pip install --no-cache-dir -r ${LAMBDA_TASK_ROOT}/requirements-worker.txt -t ${LAMBDA_TASK_ROOT}

# Set default handler for worker image
CMD ["worker_handler.handler"]
